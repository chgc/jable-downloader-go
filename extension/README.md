# Jable Downloader Chrome Extension

## åŠŸèƒ½èªªæ˜

é€™æ˜¯ä¸€å€‹ Chrome ç€è¦½å™¨æ“´å±•ï¼Œå¯ä»¥å¿«é€Ÿå°‡ Jable TV å½±ç‰‡ä¸‹è¼‰åˆ°æœ¬åœ°ã€‚

### ä¸»è¦åŠŸèƒ½
- âœ… åœ¨ Jable è¦–é »é é¢è‡ªå‹•æ·»åŠ ä¸‹è¼‰æŒ‰éˆ•
- âœ… ä¸€éµç™¼é€ä¸‹è¼‰è«‹æ±‚åˆ°æœ¬åœ°æœå‹™å™¨
- âœ… å¯¦æ™‚é¡¯ç¤ºä¸‹è¼‰ç‹€æ…‹å’Œä»»å‹™éšŠåˆ—
- âœ… æ¸…é™¤å·²å®Œæˆçš„ä¸‹è¼‰ä»»å‹™
- âœ… æ”¯æ´è‡ªå®šç¾© API æœå‹™å™¨åœ°å€

## å®‰è£æ–¹æ³•

### 1. å®‰è£æ“´å±•

1. æ‰“é–‹ Chrome ç€è¦½å™¨
2. é€²å…¥æ“´å±•ç®¡ç†é é¢ï¼š`chrome://extensions/`
3. é–‹å•Ÿå³ä¸Šè§’çš„ã€Œé–‹ç™¼äººå“¡æ¨¡å¼ã€
4. é»æ“Šã€Œè¼‰å…¥æœªå°è£é …ç›®ã€
5. é¸æ“‡ `extension` è³‡æ–™å¤¾

### 2. å•Ÿå‹• API æœå‹™å™¨

æœ‰å…©ç¨®æ–¹å¼é‹è¡Œ API æœå‹™å™¨ï¼š

#### æ–¹å¼ Aï¼šç›´æ¥é‹è¡Œï¼ˆæ¨è–¦ç”¨æ–¼é–‹ç™¼ï¼‰

```bash
# Windows
.\jable-downloader.exe --server

# Linux/Mac
./jable-downloader --server

# è‡ªå®šç¾©ç«¯å£
./jable-downloader --server --port 9000
```

#### æ–¹å¼ Bï¼šä½¿ç”¨ Dockerï¼ˆæ¨è–¦ç”¨æ–¼ç”Ÿç”¢ï¼‰

```bash
# ä½¿ç”¨ Docker Composeï¼ˆæ¨è–¦ï¼‰
docker-compose up -d

# æˆ–ç›´æ¥ä½¿ç”¨ Docker
docker build -t jable-downloader .
docker run -d -p 18080:18080 -v $(pwd)/download:/app/download jable-downloader

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# åœæ­¢æœå‹™
docker-compose down
```

## ä½¿ç”¨æ–¹æ³•

### ç¬¬ä¸€æ¬¡ä½¿ç”¨

1. é»æ“Šç€è¦½å™¨å·¥å…·æ¬„ä¸­çš„æ“´å±•åœ–æ¨™ ğŸ“¥
2. ç¢ºèª API æœå‹™å™¨åœ°å€ï¼ˆé»˜èªï¼š`http://localhost:18080`ï¼‰
3. æª¢æŸ¥æœå‹™å™¨ç‹€æ…‹æ˜¯å¦ç‚ºã€Œåœ¨ç·šã€

### ä¸‹è¼‰å½±ç‰‡

1. è¨ªå•ä»»æ„ Jable è¦–é »é é¢ï¼Œä¾‹å¦‚ï¼š`https://jable.tv/videos/xxx/`
2. åœ¨è¦–é »æ¨™é¡Œä¸‹æ–¹æœƒè‡ªå‹•å‡ºç¾ã€ŒğŸ“¥ ä¸‹è¼‰å½±ç‰‡ã€æŒ‰éˆ•
3. é»æ“ŠæŒ‰éˆ•å³å¯å°‡å½±ç‰‡åŠ å…¥ä¸‹è¼‰éšŠåˆ—
4. æŒ‰éˆ•æœƒé¡¯ç¤ºä¸‹è¼‰ç‹€æ…‹ï¼š
   - ğŸ”„ æ­£åœ¨ç™¼é€... - æ­£åœ¨é€£æ¥æœå‹™å™¨
   - âœ… å·²åŠ å…¥ä¸‹è¼‰éšŠåˆ— - ä¸‹è¼‰ä»»å‹™å·²å‰µå»º
   - âŒ æœå‹™å™¨æœªå•Ÿå‹• - ç„¡æ³•é€£æ¥åˆ° API æœå‹™å™¨

### æŸ¥çœ‹å’Œç®¡ç†ä»»å‹™

1. é»æ“Šæ“´å±•åœ–æ¨™æŸ¥çœ‹ä¸‹è¼‰éšŠåˆ—
2. éšŠåˆ—æœƒé¡¯ç¤ºæ‰€æœ‰ä»»å‹™çš„ç‹€æ…‹ï¼š
   - â³ æ’éšŠä¸­ - ç­‰å¾…é–‹å§‹ä¸‹è¼‰
   - â¬‡ï¸ ä¸‹è¼‰ä¸­ - æ­£åœ¨ä¸‹è¼‰
   - âœ… å·²å®Œæˆ - ä¸‹è¼‰å®Œæˆ
   - âŒ å¤±æ•— - ä¸‹è¼‰å¤±æ•—
3. é»æ“Šã€ŒğŸ—‘ï¸ æ¸…é™¤å·²å®Œæˆä»»å‹™ã€æŒ‰éˆ•å¯ä»¥æ¸…é™¤æ‰€æœ‰å·²å®Œæˆå’Œå¤±æ•—çš„ä»»å‹™
4. ä»»å‹™åˆ—è¡¨æ¯ 3 ç§’è‡ªå‹•åˆ·æ–°

### ä¿®æ”¹è¨­å®š

1. é»æ“Šæ“´å±•åœ–æ¨™æ‰“é–‹å½ˆå‡ºçª—å£
2. ä¿®æ”¹ã€ŒAPI æœå‹™å™¨åœ°å€ã€
3. é»æ“Šã€Œä¿å­˜è¨­å®šã€

## API ç«¯é»

æœå‹™å™¨æä¾›ä»¥ä¸‹ API ç«¯é»ï¼š

### å¥åº·æª¢æŸ¥
```
GET /api/health
```

éŸ¿æ‡‰ï¼š
```json
{
  "status": "ok",
  "version": "1.0.0",
  "time": "2026-02-14T15:30:00Z"
}
```

### ä¸‹è¼‰å½±ç‰‡
```
POST /api/download
Content-Type: application/json

{
  "url": "https://jable.tv/videos/xxx/",
  "convert": false
}
```

éŸ¿æ‡‰ï¼š
```json
{
  "success": true,
  "message": "Download task created",
  "task_id": "task_1234567890"
}
```

### æŸ¥è©¢ä»»å‹™
```
GET /api/tasks
```

éŸ¿æ‡‰ï¼š
```json
{
  "tasks": [
    {
      "id": "task_1234567890",
      "url": "https://jable.tv/videos/xxx/",
      "status": "completed",
      "created_at": "2026-02-14T15:30:00Z",
      "error": "",
      "convert": false
    }
  ],
  "current_task": "task_1234567890",
  "queue_length": 0
}
```

### æ¸…é™¤å·²å®Œæˆä»»å‹™
```
DELETE /api/tasks/clear-completed
æˆ–
POST /api/tasks/clear-completed
```

éŸ¿æ‡‰ï¼š
```json
{
  "success": true,
  "message": "Successfully cleared 5 completed task(s)",
  "cleared_count": 5
}
```

## ç›®éŒ„çµæ§‹

```
extension/
â”œâ”€â”€ manifest.json       # æ“´å±•é…ç½®æ–‡ä»¶
â”œâ”€â”€ content.js         # å…§å®¹è…³æœ¬ï¼ˆæ³¨å…¥ä¸‹è¼‰æŒ‰éˆ•ï¼‰
â”œâ”€â”€ content.css        # æŒ‰éˆ•æ¨£å¼
â”œâ”€â”€ popup.html         # å½ˆå‡ºçª—å£é é¢
â”œâ”€â”€ popup.js           # å½ˆå‡ºçª—å£é‚è¼¯
â”œâ”€â”€ background.js      # èƒŒæ™¯æœå‹™
â”œâ”€â”€ icons/             # æ“´å±•åœ–æ¨™
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â””â”€â”€ README.md          # æœ¬æ–‡ä»¶
```

## Docker ä½¿ç”¨

### ç’°å¢ƒè®Šé‡

å¯ä»¥é€šéç’°å¢ƒè®Šé‡é…ç½®æœå‹™ï¼š

```bash
docker run -d \
  -p 18080:18080 \
  -v $(pwd)/download:/app/download \
  -e TZ=Asia/Taipei \
  jable-downloader
```

### è³‡æºé™åˆ¶

åœ¨ `docker-compose.yml` ä¸­å·²è¨­ç½®è³‡æºé™åˆ¶ï¼š
- CPU: æœ€å¤š 2 æ ¸å¿ƒï¼Œä¿ç•™ 1 æ ¸å¿ƒ
- è¨˜æ†¶é«”: æœ€å¤š 2GBï¼Œä¿ç•™ 512MB

### æŒä¹…åŒ–å­˜å„²

ä¸‹è¼‰çš„æ–‡ä»¶æœƒå­˜å„²åœ¨ï¼š
- å®¹å™¨å…§ï¼š`/app/download`
- ä¸»æ©Ÿï¼š`./download`ï¼ˆé€šé volume æ›è¼‰ï¼‰

## å¸¸è¦‹å•é¡Œ

### Q: é»æ“Šä¸‹è¼‰æŒ‰éˆ•å¾Œé¡¯ç¤ºã€Œæœå‹™å™¨æœªå•Ÿå‹•ã€ï¼Ÿ
A: è«‹ç¢ºä¿ï¼š
1. API æœå‹™å™¨å·²å•Ÿå‹•ï¼ˆ`./jable-downloader --server` æˆ– `docker-compose up -d`ï¼‰
2. ç«¯å£ 18080 æœªè¢«å ç”¨
3. æ“´å±•è¨­å®šä¸­çš„ API åœ°å€æ­£ç¢º

### Q: Docker å®¹å™¨ç„¡æ³•å•Ÿå‹•ï¼Ÿ
A: æª¢æŸ¥ï¼š
1. Docker æ˜¯å¦æ­£ç¢ºå®‰è£ï¼š`docker --version`
2. ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š`netstat -an | findstr 8080`ï¼ˆWindowsï¼‰æˆ– `lsof -i :8080`ï¼ˆLinux/Macï¼‰
3. æŸ¥çœ‹å®¹å™¨æ—¥èªŒï¼š`docker-compose logs`

### Q: ä¸‹è¼‰çš„æ–‡ä»¶åœ¨å“ªè£¡ï¼Ÿ
A: 
- ç›´æ¥é‹è¡Œï¼š`./download` ç›®éŒ„
- Dockerï¼šä¸»æ©Ÿçš„ `./download` ç›®éŒ„

### Q: å¦‚ä½•è‡ªå®šç¾© API ç«¯å£ï¼Ÿ
A: 
- ç›´æ¥é‹è¡Œï¼š`./jable-downloader --server --port 19000`
- Dockerï¼šä¿®æ”¹ `docker-compose.yml` ä¸­çš„ ports é…ç½®

### Q: æ“´å±•å¯ä»¥åŒæ™‚ä¸‹è¼‰å¤šå€‹å½±ç‰‡å—ï¼Ÿ
A: å¯ä»¥ã€‚æ¯å€‹ä¸‹è¼‰è«‹æ±‚æœƒå‰µå»ºç¨ç«‹çš„ä»»å‹™ï¼Œæœå‹™å™¨æœƒä¾æ¬¡è™•ç†ã€‚

## é–‹ç™¼ç›¸é—œ

### ä¿®æ”¹æ“´å±•

ä¿®æ”¹ä»£ç¢¼å¾Œï¼š
1. é€²å…¥ `chrome://extensions/`
2. é»æ“Šæ“´å±•å¡ç‰‡ä¸Šçš„ã€Œé‡æ–°è¼‰å…¥ã€æŒ‰éˆ•

### èª¿è©¦

- å…§å®¹è…³æœ¬ï¼šåœ¨ Jable é é¢æŒ‰ F12ï¼ŒæŸ¥çœ‹ Console
- å½ˆå‡ºçª—å£ï¼šå³éµé»æ“Šæ“´å±•åœ–æ¨™ â†’ æª¢æŸ¥å½ˆå‡ºçª—å£
- èƒŒæ™¯æœå‹™ï¼šåœ¨æ“´å±•ç®¡ç†é é¢é»æ“Šã€Œservice workerã€éˆæ¥

### æ§‹å»º Docker é¡åƒ

```bash
# 1. æª¢æŸ¥ Go ç‰ˆæœ¬ä¸€è‡´æ€§ï¼ˆé‡è¦ï¼ï¼‰
.\check-version.bat      # Windows
./check-version.sh       # Linux/Mac

# 2. æ§‹å»º
docker build -t jable-downloader:latest .

# 3. æ¨é€åˆ° registryï¼ˆå¯é¸ï¼‰
docker tag jable-downloader:latest your-registry/jable-downloader:latest
docker push your-registry/jable-downloader:latest
```

**æ³¨æ„**ï¼šæ§‹å»ºå‰è«‹ç¢ºä¿ Dockerfile ä¸­çš„ Go ç‰ˆæœ¬èˆ‡ go.mod ä¸€è‡´ï¼Œä½¿ç”¨ `check-version` è…³æœ¬æª¢æŸ¥ã€‚

## æˆæ¬Š

èˆ‡ä¸»é …ç›®ç›¸åŒ

## æ›´æ–°æ—¥èªŒ

### v1.1.0 (2026-02-16)
- âœ¨ æ–°å¢æ¸…é™¤å·²å®Œæˆä»»å‹™åŠŸèƒ½
- ğŸ”„ ä»»å‹™åˆ—è¡¨è‡ªå‹•åˆ·æ–°
- ğŸ“Š é¡¯ç¤ºéšŠåˆ—ç‹€æ…‹çµ±è¨ˆ

### v1.0.0 (2026-02-14)
- ğŸ‰ é¦–æ¬¡ç™¼å¸ƒ
- âœ¨ åŸºæœ¬ä¸‹è¼‰åŠŸèƒ½
- ğŸ³ Docker æ”¯æ´
- ğŸ“¡ HTTP API æœå‹™å™¨

---

**ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰å•é¡Œè«‹æäº¤ Issueã€‚**
